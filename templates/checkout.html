<!DOCTYPE html>

<html>
    <head>
        <title>DiceItUp</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    </head>

   <body>
        <!-- Navbar -->
        {% include 'Header.html' %}

        <!-- Main Body -->
        <!-- Section: Split screen -->
        <section class="">
            <div class="container-fluid px-0">
                <div class="row g-0">

                    <!-- First column -->
                    <div class="col-lg-6 vh-100">
                        <div class="main-container ">
                            <form action="/checkout" method="POST">
                                <br>
                                <h3>Banking</h3>
                                <div class="row text-dark">
                                    <div class="col-md-8 text-dark">
                                        <label for="FirstName text-dark">First Name</label>
                                        <input type="FirstName" class="form-control" id="FirstName" placeholder="Enter First Name" required>
                                    </div>

                                    <div class="col-md-8 text-dark">
                                        <label for="LastName text-dark">Last Name</label>
                                        <input type="LastName" class="form-control" id="LastName" placeholder="Enter Last Name" required>
                                    </div>
                                </div>

                                <br>
                                <div class="col-md-8">
                                    <select class="form-select" id="cardType" aria-label="Default select example" required>
                                        <option value="1">Visa</option>
                                        <option value="2">Mastercard</option>
                                    </select>
                                </div>

                                <div class="col-md-8 text-dark">
                                        <label for="cardNumber text-dark">Card Number</label>
                                        <input type="cardNumber" class="form-control" id="cardNumber" placeholder="0000 0000 0000 0000" required>
                                </div>

                                <div class="row text-dark">
                                    <div class="col-md-4 text-dark">
                                        <label for="validTill text-dark">Expiration</label>
                                        <input type="validTill" class="form-control" id="validTill" placeholder="MM / YY" required>
                                    </div>

                                    <div class="col-md-4 text-dark">
                                        <label for="CVV text-dark">CVV</label>
                                        <input type="CVV" class="form-control" id="CVV" placeholder="123" required>
                                    </div>
                                </div>

                                <br>
                                <h3>Shipping Address</h3>

                                <div class="row text-dark">
                                    <div class="col-md-4 text-dark">
                                        <label for="streetAddress" class="form-label">Street Address</label>
                                        <input type="text" class="form-control" id="streetAddress" placeholder="Enter your street address" required>
                                    </div>

                                    <div class="col-md-4 text-dark">
                                        <label for="city" class="form-label">City</label>
                                        <input type="text" class="form-control" id="city" placeholder="Enter your city" required>
                                    </div>
                                </div>

                                <div class="row text-dark">
                                    <div class="col-md-4">
                                        <label for="state" class="form-label">State</label>
                                        <input type="text" class="form-control" id="state" placeholder="Enter your State" required>
                                    </div>

                                    <div class="col-md-4">
                                        <label for="zipCode" class="form-label">ZIP Code</label>
                                        <input type="text" class="form-control" id="zipCode" placeholder="Enter your zipCode" required>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <label for="Country" class="form-label">Country</label>
                                    <input type="text" class="form-control" id="country" placeholder="Enter your country" required>
                                </div>
                                <br>
                                <h3>Terms & Conditions</h3>
                                <div class="form-check">
                                    <input type="checkbox" class="form-check-input" id="Terms" required>
                                    <label class="form-check-label text-dark" for="Terms">Agree to terms & Conditions</label>
                                </div>

                                <button type="submit" class="btn btn-primary">Submit</button>
                            </form>
                        </div>
                    </div>
                    <!-- First column -->

                    <!-- Second column -->
                    <div class="col-lg-6 vh-100 overflow-auto">
                        <img src="../static/Bankcard.png" class="rounded" alt="Responsive image">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Item Name</th>
                                    <th>Price (per item)</th>
                                    <th>Quantity</th>
                                    <th>Subtotal</th>
                                    <th>Action</th>
                                </tr>
                            </thead>

                            <tbody>
                            {% set ns = namespace(total = 0) %}
                            {% for cart_item in cart_items %}
                                {% set subtotal = cart_item.price * cart_item.quantity %}
                                {% set ns.total = ns.total + subtotal %}

                                <tr>
                                    <td>{{ loop.index }}</td>
                                    <td>{{ cart_item.name }}</td>
                                    <td>${{ "%.2f"|format(cart_item.price) }}</td>
                                    <td>{{ cart_item.quantity }}</td>
                                    <td>${{ "%.2f"|format(subtotal) }}</td>

                                    <td>
                                        <form action="{{ url_for('delete_from_cart', item_id=cart_item.item_id) }}" method="POST">
                                            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                        </form>
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>

                        <h3 class="mt-4">Total: <strong>${{ "%.2f"|format(ns.total) }}</strong></h3>
                    </div>
                    <!-- Second column -->

                </div>
            </div>
        </section>
        <!-- Section: Split screen -->

        <!-- Footer -->
        {% include 'Footer.html' %}

        <script src="HighlightCurrentTab.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
   </body>
</html>